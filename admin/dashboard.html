<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุญุฉ ุงูุชุญูู | ุจุตูุฉ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="admin.css">
</head>

<body>
    <div class="dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <img src="../logo.jpeg" alt="ุจุตูุฉ">
                    <span>ุจุตูุฉ</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <a href="dashboard.html" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>ุงูุฑุฆูุณูุฉ</span>
                </a>
                <a href="#menu-section" class="nav-item" onclick="showSection('menu')">
                    <i class="fas fa-bars"></i>
                    <span>ุงููุงุฆูุฉ</span>
                </a>
                <a href="#services-section" class="nav-item" onclick="showSection('services')">
                    <i class="fas fa-cogs"></i>
                    <span>ุงูุฎุฏูุงุช</span>
                </a>
                <a href="#courses-section" class="nav-item" onclick="showSection('courses')">
                    <i class="fas fa-graduation-cap"></i>
                    <span>ุงูููุฑุณุงุช</span>
                </a>
                <a href="#portfolio-section" class="nav-item" onclick="showSection('portfolio')">
                    <i class="fas fa-folder-open"></i>
                    <span>ุงูุฃุนูุงู</span>
                </a>
                <a href="#testimonials-section" class="nav-item" onclick="showSection('testimonials')">
                    <i class="fas fa-comments"></i>
                    <span>ุงูุขุฑุงุก</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>ุชุณุฌูู ุงูุฎุฑูุฌ</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">ููุญุฉ ุงูุชุญูู</h1>
                <div style="color: var(--text-secondary);">
                    ูุฑุญุจุงู ุจู ๐ <span id="userEmail"></span>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon orange">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="coursesCount">0</div>
                    <div class="stat-label">ุงูููุฑุณุงุช</div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon green">
                            <i class="fas fa-folder-open"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="portfolioCount">0</div>
                    <div class="stat-label">ุงูุฃุนูุงู</div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon blue">
                            <i class="fas fa-comments"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="testimonialsCount">0</div>
                    <div class="stat-label">ุขุฑุงุก ุงูุนููุงุก</div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon purple">
                            <i class="fas fa-users"></i>
                        </div>
                    </div>
                    <div class="stat-value" id="totalStudents">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุทูุงุจ</div>
                </div>
            </div>

            <!-- Menu Section -->
            <section id="menu-section" class="data-section" style="display: none;">
                <div class="data-card">
                    <div class="data-card-header">
                        <h2 class="data-card-title">
                            <i class="fas fa-bars"></i>
                            ุฅุฏุงุฑุฉ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
                        </h2>
                        <button class="btn btn-primary" onclick="openMenuModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ุฑุงุจุท
                        </button>
                    </div>
                    <div id="menuLoading" class="loading">
                        <div class="spinner"></div>
                    </div>
                    <table class="data-table" id="menuTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>ุงูุชุฑุชูุจ</th>
                                <th>ุงุณู ุงูุฑุงุจุท</th>
                                <th>ุงูุฑุงุจุท</th>
                                <th>ุงูููุน</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </section>

            <!-- Services Section -->
            <section id="services-section" class="data-section" style="display: none;">
                <div class="data-card">
                    <div class="data-card-header">
                        <h2 class="data-card-title">
                            <i class="fas fa-cogs"></i>
                            ุฅุฏุงุฑุฉ ุงูุฎุฏูุงุช
                        </h2>
                        <button class="btn btn-primary" onclick="openServiceModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ุฎุฏูุฉ
                        </button>
                    </div>
                    <div id="servicesLoading" class="loading">
                        <div class="spinner"></div>
                    </div>
                    <table class="data-table" id="servicesTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>ุงูุฃููููุฉ</th>
                                <th>ุงูุนููุงู</th>
                                <th>ุงููุตู</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="servicesTableBody"></tbody>
                    </table>
                </div>
            </section>

            <!-- Courses Section -->
            <section id="courses-section" class="data-section">
                <div class="data-card">
                    <div class="data-card-header">
                        <h2 class="data-card-title">
                            <i class="fas fa-graduation-cap"></i>
                            ุฅุฏุงุฑุฉ ุงูููุฑุณุงุช
                        </h2>
                        <button class="btn btn-primary" onclick="openCourseModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ููุฑุณ
                        </button>
                    </div>
                    <div id="coursesLoading" class="loading">
                        <div class="spinner"></div>
                    </div>
                    <table class="data-table" id="coursesTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>ุงูุตูุฑุฉ</th>
                                <th>ุงูุนููุงู</th>
                                <th>ุงูุชุตููู</th>
                                <th>ุงููุฏุฉ</th>
                                <th>ุงูุทูุงุจ</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="coursesTableBody"></tbody>
                    </table>
                </div>
            </section>

            <!-- Portfolio Section -->
            <section id="portfolio-section" class="data-section" style="display: none;">
                <div class="data-card">
                    <div class="data-card-header">
                        <h2 class="data-card-title">
                            <i class="fas fa-folder-open"></i>
                            ุฅุฏุงุฑุฉ ุงูุฃุนูุงู
                        </h2>
                        <button class="btn btn-primary" onclick="openPortfolioModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ุนูู
                        </button>
                    </div>
                    <div id="portfolioLoading" class="loading">
                        <div class="spinner"></div>
                    </div>
                    <table class="data-table" id="portfolioTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>ุงูุตูุฑุฉ</th>
                                <th>ุงูุนููุงู</th>
                                <th>ุงูุชุตููู</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="portfolioTableBody"></tbody>
                    </table>
                </div>
            </section>

            <!-- Testimonials Section -->
            <section id="testimonials-section" class="data-section" style="display: none;">
                <div class="data-card">
                    <div class="data-card-header">
                        <h2 class="data-card-title">
                            <i class="fas fa-comments"></i>
                            ุฅุฏุงุฑุฉ ุขุฑุงุก ุงูุนููุงุก
                        </h2>
                        <button class="btn btn-primary" onclick="openTestimonialModal()">
                            <i class="fas fa-plus"></i>
                            ุฅุถุงูุฉ ุฑุฃู
                        </button>
                    </div>
                    <div id="testimonialsLoading" class="loading">
                        <div class="spinner"></div>
                    </div>
                    <table class="data-table" id="testimonialsTable" style="display: none;">
                        <thead>
                            <tr>
                                <th>ุงูุงุณู</th>
                                <th>ุงูููุตุจ</th>
                                <th>ุงูุฑุฃู</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="testimonialsTableBody"></tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Services Modal -->
    <div class="modal-overlay" id="servicesModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="serviceModalTitle">ุฅุถุงูุฉ ุฎุฏูุฉ ุฌุฏูุฏุฉ</h3>
                <button class="modal-close" onclick="closeModal('servicesModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="serviceForm">
                <div class="modal-body">
                    <input type="hidden" id="serviceId">
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>ุนููุงู ุงูุฎุฏูุฉ</label>
                            <input type="text" id="serviceTitle" required placeholder="ูุซุงู: ุชุตููู ููุดู ุฌุฑุงููู">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>ูุตู ุงูุฎุฏูุฉ</label>
                            <textarea id="serviceDescription" rows="4" required
                                placeholder="ุงูุชุจ ูุตู ูุฎุชุตุฑ ููุฎุฏูุฉ..."></textarea>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุงูุฃููููุฉ (Font Awesome)</label>
                            <input type="text" id="serviceIcon" placeholder="fas fa-video" value="fas fa-video">
                            <small style="color: var(--text-secondary); margin-top: 5px; display: block;">
                                ุฃูุซูุฉ: fas fa-video, fas fa-paint-brush, fas fa-film, fas fa-robot
                            </small>
                        </div>
                        <div class="form-group">
                            <label>ุงูุชุฑุชูุจ</label>
                            <input type="number" id="serviceOrder" value="1" min="1">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุงูุญุงูุฉ</label>
                            <select id="serviceActive">
                                <option value="true">ูุดุท</option>
                                <option value="false">ุบูุฑ ูุดุท</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ุฑุงุจุท ุงูููุฏูู (ุงุฎุชูุงุฑู)</label>
                            <input type="text" id="serviceVideo" placeholder="ุฑุงุจุท YouTube ุฃู Vimeo">
                            <small style="color: var(--text-secondary);">ุงุฎุชูุงุฑู - ูุธูุฑ ูู ุตูุญุฉ ุงูุชูุงุตูู</small>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>ุตูุฑุฉ ุงูุฎุฏูุฉ</label>
                            <div class="upload-area" id="serviceUploadArea">
                                <input type="file" id="serviceImageFile" accept="image/*" style="display: none;">
                                <input type="hidden" id="serviceImage">
                                <div class="upload-preview" id="servicePreview" style="display: none;">
                                    <img id="servicePreviewImg" src="" alt="Preview">
                                    <button type="button" class="upload-remove" onclick="removeServiceImage()">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                                <div class="upload-placeholder" id="servicePlaceholder">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <span>ุงุณุญุจ ุงูุตูุฑุฉ ุฃู ุงุถุบุท ููุงุฎุชูุงุฑ</span>
                                    <small style="color: var(--text-secondary);">ุงูุฃุจุนุงุฏ ุงููุซุงููุฉ: 400ร300 ุจูุณู</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('servicesModal')">ุฅูุบุงุก</button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        ุญูุธ ุงูุฎุฏูุฉ
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Course Modal -->
    <div class="modal-overlay" id="courseModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="courseModalTitle">ุฅุถุงูุฉ ููุฑุณ ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="closeModal('courseModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="courseForm">
                <div class="modal-body">
                    <input type="hidden" id="courseId">
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label>ุนููุงู ุงูููุฑุณ</label>
                            <input type="text" id="courseTitle" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุงูุชุตููู</label>
                            <select id="courseCategory">
                                <option value="ููุดู ุฌุฑุงููู">ููุดู ุฌุฑุงููู</option>
                                <option value="ุชุตููู">ุชุตููู</option>
                                <option value="ูููุชุงุฌ">ูููุชุงุฌ</option>
                                <option value="AI Tools">AI Tools</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ุงููุฏุฉ</label>
                            <input type="text" id="courseDuration" placeholder="ูุซุงู: 25 ุณุงุนุฉ">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุนุฏุฏ ุงูุทูุงุจ</label>
                            <input type="number" id="courseStudents" value="0">
                        </div>
                        <div class="form-group">
                            <label>ุงูุดุงุฑุฉ</label>
                            <select id="courseBadge">
                                <option value="">ุจุฏูู</option>
                                <option value="ุฌุฏูุฏ">ุฌุฏูุฏ</option>
                                <option value="ุงูุฃูุซุฑ ูุจูุนุงู">ุงูุฃูุซุฑ ูุจูุนุงู</option>
                                <option value="ูููุฒ">ูููุฒ</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label>ุตูุฑุฉ ุงูููุฑุณ</label>
                        <div class="upload-area" id="courseUploadArea">
                            <input type="file" id="courseImageFile" accept="image/*" style="display: none;">
                            <input type="hidden" id="courseThumbnail">
                            <div class="upload-preview" id="coursePreview" style="display: none;">
                                <img id="coursePreviewImg" src="" alt="Preview">
                                <button type="button" class="upload-remove" onclick="removeCourseImage()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="upload-placeholder" id="coursePlaceholder"
                                onclick="document.getElementById('courseImageFile').click()">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>ุงุถุบุท ูุฑูุน ุตูุฑุฉ</span>
                                <small>ุฃู ุงุณุญุจ ุงูุตูุฑุฉ ููุง</small>
                            </div>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label>ุฑุงุจุท ุงูููุฏูู (ุงุฎุชูุงุฑู)</label>
                        <input type="url" id="courseVideo" placeholder="ุฑุงุจุท YouTube ุฃู Vimeo">
                        <small style="color: var(--text-muted); display: block; margin-top: 6px;">
                            <i class="fab fa-youtube"></i> ุงูููุฏูู ููุชุญูู ุชููุงุฆู ูู embed
                        </small>
                    </div>
                    <div class="form-group full-width">
                        <label>ูุตู ุงูููุฑุณ</label>
                        <textarea id="courseDescription"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('courseModal')">ุฅูุบุงุก</button>
                    <button type="submit" class="btn btn-primary">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Portfolio Modal -->
    <div class="modal-overlay" id="portfolioModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="portfolioModalTitle">ุฅุถุงูุฉ ุนูู ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="closeModal('portfolioModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="portfolioForm">
                <div class="modal-body">
                    <input type="hidden" id="portfolioId">
                    <div class="form-group full-width">
                        <label>ุนููุงู ุงูุนูู</label>
                        <input type="text" id="portfolioTitle" required>
                    </div>
                    <div class="form-group">
                        <label>ุงูุชุตููู</label>
                        <select id="portfolioCategory">
                            <option value="ููุดู ุฌุฑุงููู">ููุดู ุฌุฑุงููู</option>
                            <option value="ุชุตููู ุฌุฑุงููู">ุชุตููู ุฌุฑุงููู</option>
                            <option value="ูููุชุงุฌ">ูููุชุงุฌ</option>
                            <option value="3D">3D</option>
                        </select>
                    </div>
                    <div class="form-group full-width">
                        <label>ุตูุฑุฉ ุงูุนูู</label>
                        <div class="upload-area" id="portfolioUploadArea">
                            <input type="file" id="portfolioImageFile" accept="image/*" style="display: none;">
                            <input type="hidden" id="portfolioImage">
                            <div class="upload-preview" id="portfolioPreview" style="display: none;">
                                <img id="portfolioPreviewImg" src="" alt="Preview">
                                <button type="button" class="upload-remove" onclick="removePortfolioImage()">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="upload-placeholder" id="portfolioPlaceholder"
                                onclick="document.getElementById('portfolioImageFile').click()">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <span>ุงุถุบุท ูุฑูุน ุตูุฑุฉ</span>
                                <small>ุฃู ุงุณุญุจ ุงูุตูุฑุฉ ููุง</small>
                            </div>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label>ุฑุงุจุท ุงูููุฏูู (ุงุฎุชูุงุฑู)</label>
                        <input type="url" id="portfolioVideo" placeholder="ุฑุงุจุท YouTube ุฃู Vimeo">
                        <small style="color: var(--text-muted); display: block; margin-top: 6px;">
                            <i class="fab fa-youtube"></i> ุงูููุฏูู ููุชุนุฑุถ ูุจุงุดุฑุฉ ูู ุงููููุน
                        </small>
                    </div>
                    <div class="form-group full-width">
                        <label>ุงููุตู</label>
                        <textarea id="portfolioDescription"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('portfolioModal')">ุฅูุบุงุก</button>
                    <button type="submit" class="btn btn-primary">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Testimonial Modal -->
    <div class="modal-overlay" id="testimonialModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="testimonialModalTitle">ุฅุถุงูุฉ ุฑุฃู ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="closeModal('testimonialModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="testimonialForm">
                <div class="modal-body">
                    <input type="hidden" id="testimonialId">
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุงุณู ุงูุนููู</label>
                            <input type="text" id="testimonialName" required>
                        </div>
                        <div class="form-group">
                            <label>ุงูููุตุจ/ุงููุธููุฉ</label>
                            <input type="text" id="testimonialRole">
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label>ุงูุฑุฃู</label>
                        <textarea id="testimonialContent" required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                        onclick="closeModal('testimonialModal')">ุฅูุบุงุก</button>
                    <button type="submit" class="btn btn-primary">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Menu Modal -->
    <div class="modal-overlay" id="menuModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" id="menuModalTitle">ุฅุถุงูุฉ ุฑุงุจุท ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="closeModal('menuModal')">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="menuForm">
                <div class="modal-body">
                    <input type="hidden" id="menuItemId">
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุงุณู ุงูุฑุงุจุท</label>
                            <input type="text" id="menuLabel" required placeholder="ูุซุงู: ูู ูุญู">
                        </div>
                        <div class="form-group">
                            <label>ุงูุฑุงุจุท</label>
                            <input type="text" id="menuUrl" required placeholder="#section ุฃู page.html">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ุงูุชุฑุชูุจ</label>
                            <input type="number" id="menuOrder" value="1" min="1">
                        </div>
                        <div class="form-group">
                            <label>ููุน ุงูุฒุฑ</label>
                            <select id="menuType">
                                <option value="normal">ุฑุงุจุท ุนุงุฏู</option>
                                <option value="cta">ุฒุฑ CTA ูููู</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                            <input type="checkbox" id="menuVisible" checked style="width: auto;">
                            <span>ุธุงูุฑ ูู ุงููุงุฆูุฉ</span>
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('menuModal')">ุฅูุบุงุก</button>
                    <button type="submit" class="btn btn-primary">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="../js/supabase-config.js"></script>
    <script src="admin.js"></script>
</body>

</html>